!function(){"use strict";tinymce.PluginManager.add("new-footnotes",function(r,t){var i=1;r.ui.registry.addButton("new-footnotes",{text:"Footnote",onAction:function(){var c=r.selection.getContent({format:"text"});c?r.windowManager.open({title:"Insert Footnote",body:{type:"panel",items:[{type:"input",name:"footnoteText",label:"Footnote Text"}]},buttons:[{type:"cancel",text:"Cancel"},{type:"submit",text:"Save",primary:!0}],onSubmit:function(t){var o,n,e,a=t.getData();o=c,a=a.footnoteText,n="footnote-"+(new Date).getTime(),e=i++,o="<span>".concat(o,'<a id="footnote-entry-').concat(n,'-ref" role="doc-noteref" aria-label="footnote-entry-').concat(n,'" href="#footnote-entry-').concat(n,'"><sup>[').concat(e,"]</sup></a></span>"),e='\n            <li>\n                <a id="footnote-entry-'.concat(n,'">\n                    \n                </a>\n                ').concat(a,'\n                <a role="doc-backlink" href="#footnote-entry-').concat(n,'-ref" aria-label="Back to content">â†µ</a>\n            </li>'),r.insertContent(o),(a=r.dom.select('section[role="doc-footnotes"] ol')[0])?a.innerHTML+=e:r.setContent(r.getContent()+'<hr /><section role="doc-footnotes" aria-label="footnotes">\n                <h3 class="sr-only" id="footnotes-block-'.concat(n,'">Footnotes</h3>\n                <ol>').concat(e.trim(),"</ol>\n            </section>")),t.close()}}):r.windowManager.alert("Please select a word or text to add a footnote.")}})})}();